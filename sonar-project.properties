# SonarQube Project Configuration for Smart Heating

# Project identification
sonar.projectKey=TheFlexican_smart-heating
sonar.organization=theflexican

# Project information
sonar.projectName=Smart Heating
sonar.projectVersion=0.4.3

# Source code location
sonar.sources=smart_heating
sonar.python.version=3.13

# Test locations (excluded from main analysis)
sonar.tests=tests

# Test file exclusions (frontend tests are excluded via sonar.exclusions below)
sonar.test.inclusions=tests/**/*.py

# Coverage reports
sonar.python.coverage.reportPaths=coverage.xml,**/coverage.xml,./coverage.xml
# Allow Sonar to find the XML coverage file whether it's in the repo root or a subdirectory
sonar.coverage.exclusions=tests/**/*

# Exclude test files from code analysis issues
sonar.exclusions=tests/**/*,**/test_*.py,**/*_test.py

# Exclude test files from duplication detection
sonar.cpd.exclusions=tests/**/*

# Include only production code in coverage
sonar.coverage.inclusions=smart_heating/**/*.py

# Additional exclusions
sonar.exclusions=\
  tests/**/*,\
  **/test_*.py,\
  **/*_test.py,\
  **/conftest.py,\
  **/__pycache__/**,\
  **/.pytest_cache/**,\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  coverage_html/**,\
  htmlcov/**,\
  .venv/**,\
  venv/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  smart_heating/frontend/vite.config.ts,\
  smart_heating/frontend/tsconfig.json,\
  smart_heating/frontend/tsconfig.node.json

# Language-specific settings
sonar.sourceEncoding=UTF-8

# TypeScript/JavaScript settings
sonar.typescript.lcov.reportPaths=smart_heating/frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=smart_heating/frontend/coverage/lcov.info

# Analysis parameters
sonar.scm.provider=git
